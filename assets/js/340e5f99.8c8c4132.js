"use strict";(self.webpackChunkbaileys_wiki=self.webpackChunkbaileys_wiki||[]).push([[38420],{28453:(e,s,t)=>{t.d(s,{R:()=>i,x:()=>r});var n=t(96540);const a={},o=n.createContext(a);function i(e){const s=n.useContext(o);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function r(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:i(e.components),n.createElement(o.Provider,{value:s},e.children)}},32533:(e,s,t)=>{t.r(s),t.d(s,{assets:()=>c,contentTitle:()=>r,default:()=>g,frontMatter:()=>i,metadata:()=>n,toc:()=>d});const n=JSON.parse('{"id":"socket/handling-messages","title":"Handling Messages","description":"Messages, from a history sync or from a messages.upsert event, come in the form of proto.IWebMessageInfo. This is the protobuf that WhatsApp Web stores its messages in.","source":"@site/docs/socket/handling-messages.md","sourceDirName":"socket","slug":"/socket/handling-messages","permalink":"/docs/socket/handling-messages","draft":false,"unlisted":false,"editUrl":"https://github.com/WhiskeySockets/baileys.wiki/tree/main/docs/docs/socket/handling-messages.md","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"sidebar_position":5},"sidebar":"docsSidebar","previous":{"title":"Receiving Updates","permalink":"/docs/socket/receiving-updates"},"next":{"title":"Sending Messages","permalink":"/docs/socket/sending-messages"}}');var a=t(74848),o=t(28453);const i={sidebar_position:5},r="Handling Messages",c={},d=[];function h(e){const s={a:"a",code:"code",h1:"h1",header:"header",p:"p",...(0,o.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.header,{children:(0,a.jsx)(s.h1,{id:"handling-messages",children:"Handling Messages"})}),"\n",(0,a.jsxs)(s.p,{children:["Messages, from a history sync or from a messages.upsert event, come in the form of ",(0,a.jsx)(s.a,{href:"../api/namespaces/proto/interfaces/IWebMessageInfo",children:(0,a.jsx)(s.code,{children:"proto.IWebMessageInfo"})}),". This is the protobuf that WhatsApp Web stores its messages in."]}),"\n",(0,a.jsxs)(s.p,{children:["The message data specifically is in the format ",(0,a.jsx)(s.a,{href:"../api/namespaces/proto/interfaces/IMessage",children:(0,a.jsx)(s.code,{children:"proto.IMessage"})}),".\nYou can send messages in this format using the ",(0,a.jsx)(s.a,{href:"../api/functions/makeWASocket#relaymessage",children:(0,a.jsx)(s.code,{children:"sock.relayMessage"})})," function."]}),"\n",(0,a.jsx)(s.h1,{id:"text-messages",children:"Text Messages"}),"\n",(0,a.jsxs)(s.p,{children:["Text based messages come in the form of ",(0,a.jsx)(s.a,{href:"../api/namespaces/proto/interfaces/IMessage#conversation",children:(0,a.jsx)(s.code,{children:"proto.IMessage.conversation"})})," and ",(0,a.jsx)(s.a,{href:"../api/namespaces/proto/interfaces/IMessage#extendedtextmessage",children:(0,a.jsx)(s.code,{children:"proto.IMessage.extendedTextMessage"})}),".\nIf the message comes in with reply data or attached metadata (link preview, group invite), then it is usually extendedTextMessage.\nStatus updates are also only extendedTextMessage as it contains the fields for the color/font of the text-based status updates."]}),"\n",(0,a.jsx)(s.h1,{id:"media-messages",children:"Media Messages"}),"\n",(0,a.jsxs)(s.p,{children:["Media messages come in the following protobuf messages: ",(0,a.jsx)(s.a,{href:"../api/namespaces/proto/interfaces/IMessage#audiomessage",children:(0,a.jsx)(s.code,{children:"proto.IMessage.audioMessage"})}),", ",(0,a.jsx)(s.a,{href:"../api/namespaces/proto/interfaces/IMessage#documentmessage",children:(0,a.jsx)(s.code,{children:"proto.IMessage.documentMessage"})}),", ",(0,a.jsx)(s.a,{href:"../api/namespaces/proto/interfaces/IMessage#imagemessage",children:(0,a.jsx)(s.code,{children:"proto.IMessage.imageMessage"})}),", video, sticker .. so on"]}),"\n",(0,a.jsx)(s.p,{children:"That being said, let's look at some common types\nhandle different message types\n/// sock.updateMediaMessage"}),"\n",(0,a.jsx)(s.p,{children:"point to gloss on -> Handling protos"}),"\n",(0,a.jsx)(s.p,{children:"some internal documentation -> Proto systems or things like that & Contribution guidelines"})]})}function g(e={}){const{wrapper:s}={...(0,o.R)(),...e.components};return s?(0,a.jsx)(s,{...e,children:(0,a.jsx)(h,{...e})}):h(e)}}}]);